最终推荐方案

第一阶段：代码重构

将代码拆分为上述模块
引入工具库抽象层
保持现有功能不变


第二阶段：LangGraph集成

实现LangGraphToolProcessor
添加工具库选择UI
支持动态切换


第三阶段：性能优化与功能扩展

添加更多工具库支持
优化工具执行和响应处理
增强用户体验